# 定檢表模板範例

本目錄包含定檢表模板的範例檔案，用於測試和示範定檢表系統功能。

---

## 📋 電機設備定期檢查表

### 檔案說明

- **motor_inspection_template.json**: JSON 格式的模板定義
- **motor_inspection_template.xlsx**: Excel 格式的原始定檢表（下方為內容描述）

---

## 📄 Excel 定檢表內容（motor_inspection_template.xlsx）

### 表頭區
```
┌─────────────────────────────────────────────────────┐
│            電機設備定期檢查表                         │
│                                                       │
│  公司：範例公司                部門：設備維護部        │
│  檢測週期：30 天              預估時間：20 分鐘        │
└─────────────────────────────────────────────────────┘
```

### 第一部分：基本資訊

| 項目 | 內容 | 說明 |
|------|------|------|
| 設備編號 | _________ | 例如：MTR-A-001 |
| 設備名稱 | _________ | 例如：冷卻水泵浦馬達 |
| 設備位置 | _________ | 例如：1F 機房 A 區 |
| 額定功率 | _________ | 例如：15 kW |
| 檢測日期 | ____年__月__日 __:__ | |
| 檢測人員 | _________ | |
| 天氣狀況 | □ 晴天 □ 陰天 □ 雨天 | |

### 第二部分：外觀檢查

| 檢查項目 | 檢查結果 | 照片 |
|---------|---------|------|
| **設備整體外觀** | | □ 拍照 |
| 外觀狀況 | □ 優良 □ 良好 □ 尚可 □ 不良 | |
| 塗裝狀況 | □ 完整 □ 局部剝落 □ 大面積剝落 | |
| 鏽蝕狀況 | □ 無鏽蝕 □ 輕微 □ 中度 □ 嚴重 | |

| 發現異常（可複選） |
|-------------------|
| □ 裂縫<br>□ 變形<br>□ 螺栓鬆動<br>□ 漏油<br>□ 積塵過多<br>□ 其他異常 |

| 異常詳細描述 |
|-------------|
| ________________________________________<br>________________________________________<br>________________________________________ |

| 異常部位照片 |
|-------------|
| □ 照片 1  □ 照片 2  □ 照片 3 |

### 第三部分：運轉檢查

| 項目 | 內容 | 照片 |
|------|------|------|
| 運轉狀態 | □ 運轉中 □ 待機中 □ 停機 □ 維修中 | |

**（以下項目僅在運轉中時填寫）**

| 項目 | 讀數 | 單位 | 照片 |
|------|------|------|------|
| 馬達表面溫度 | _______ | °C | □ 拍照 |
| 電流讀數 | _______ | A | □ 拍照 |

| 項目 | 評估結果 |
|------|---------|
| 震動程度 | □ 正常 □ 輕微震動 □ 中等震動 □ 嚴重震動 |
| 噪音程度 | □ 正常運轉聲 □ 輕微異音 □ 明顯異音 |

### 第四部分：潤滑檢查

| 項目 | 檢查結果 | 照片 |
|------|---------|------|
| 油位狀況 | □ 正常 □ 偏低 □ 過高 □ 無法確認 | □ 拍照 |
| 油質狀況 | □ 乾淨透明 □ 輕微混濁 □ 髒污（需更換） | |
| 上次加油日期 | ____年__月__日 | |

### 第五部分：綜合評估

| 項目 | 評估結果 |
|------|---------|
| 設備整體狀況 | □ 優良 □ 良好 □ 尚可 □ 不良 |
| 是否需要維修 | □ 否 □ 是（例行維護） □ 是（緊急維修） |

| 建議維修項目 |
|-------------|
| ________________________________________<br>________________________________________<br>________________________________________ |

| 預估維修時間 | _________ |
| 備註說明 | ________________________________________<br>________________________________________ |

| 檢測人員簽名 | ________________ |
|-------------|-----------------|

---

## 🔄 Excel → JSON 轉換說明

### 欄位對應關係

| Excel 欄位 | JSON field_id | 欄位類型 | AI 可填入 |
|-----------|---------------|---------|----------|
| 設備編號 | equipment_code | text | ❌ |
| 設備名稱 | equipment_name | text | ❌ |
| 設備位置 | equipment_location | text | ❌ |
| 額定功率 | equipment_power | text | ✅ |
| 檢測日期 | inspection_date | datetime | ❌ |
| 檢測人員 | inspector_name | text | ❌ |
| 天氣狀況 | weather_condition | dropdown | ❌ |
| 設備整體外觀照片 | overall_photo | photo | ✅ AI 分析 |
| 外觀狀況 | appearance_condition | radio | ✅ |
| 塗裝狀況 | paint_condition | radio | ✅ |
| 鏽蝕狀況 | rust_condition | radio | ✅ |
| 發現異常 | abnormal_found | checkbox | ✅ |
| 異常詳細描述 | abnormal_description | textarea | ✅ |
| 異常部位照片 | abnormal_photo | photo_multiple | ✅ AI 分析 |
| 運轉狀態 | operation_status | radio | ❌ |
| 溫度計照片 | temperature_photo | photo | ✅ AI 分析 |
| 馬達表面溫度 | motor_temperature | number | ✅ |
| 震動程度 | vibration_level | radio | ❌ |
| 噪音程度 | noise_level | radio | ❌ |
| 電流錶照片 | current_meter_photo | photo | ✅ AI 分析 |
| 電流讀數 | current_reading | number | ✅ |
| 油位計照片 | oil_level_photo | photo | ✅ AI 分析 |
| 油位狀況 | oil_level | radio | ✅ |
| 油質狀況 | oil_condition | radio | ❌ |
| 上次加油日期 | last_lubrication_date | date | ❌ |
| 設備整體狀況 | overall_condition | radio | ❌ |
| 是否需要維修 | maintenance_required | radio | ❌ |
| 建議維修項目 | maintenance_items | textarea | ❌ |
| 預估維修時間 | estimated_repair_time | text | ❌ |
| 備註說明 | additional_notes | textarea | ❌ |
| 檢測人員簽名 | inspector_signature | signature | ❌ |

---

## ✨ AI 輔助功能說明

### 自動填入的欄位

1. **設備整體外觀照片** → AI 分析後自動填入：
   - 外觀狀況（優良/良好/尚可/不良）
   - 塗裝狀況（完整/局部剝落/大面積剝落）
   - 鏽蝕狀況（無/輕微/中度/嚴重）
   - 發現異常（裂縫、變形、螺栓鬆動等）
   - 異常詳細描述

2. **溫度計照片** → AI 識別讀數後自動填入：
   - 馬達表面溫度（數值 + 單位）

3. **電流錶照片** → AI 識別讀數後自動填入：
   - 電流讀數（數值 + 單位）

4. **油位計照片** → AI 判斷後自動填入：
   - 油位狀況（正常/偏低/過高/無法確認）

### 智能驗證

- 溫度超出 20-80°C 範圍 → 自動警告
- 電流讀數異常 → 提示檢查
- 條件顯示：選擇「發現異常」後才顯示「異常描述」與「異常照片」欄位
- 條件顯示：選擇「運轉中」後才顯示運轉相關檢查項目

---

## 📱 App 使用流程

### 1. 選擇模板
```
首頁 → 選擇「電機設備定期檢查表」
```

### 2. 引導式填寫
```
進度：1/32 欄位
┌─────────────────────────────┐
│  基本資訊                    │
├─────────────────────────────┤
│  設備編號                    │
│  ┌─────────────────────────┐ │
│  │ MTR-A-001              │ │
│  └─────────────────────────┘ │
│                             │
│  [上一項]         [下一項] │
└─────────────────────────────┘
```

### 3. 拍照 + AI 分析
```
進度：8/32 欄位
┌─────────────────────────────┐
│  外觀檢查                    │
├─────────────────────────────┤
│  設備整體外觀照片            │
│                             │
│  [📷 拍攝照片]              │
│                             │
│  ✅ AI 分析中...            │
│                             │
│  自動填入結果：              │
│  • 外觀狀況：良好           │
│  • 塗裝狀況：局部剝落       │
│  • 鏽蝕狀況：輕微鏽蝕       │
│                             │
│  [編輯] [確認]             │
└─────────────────────────────┘
```

### 4. 生成 PDF 報告
```
檢測完成！
┌─────────────────────────────┐
│  ✅ 所有欄位填寫完成         │
│                             │
│  [📄 生成 PDF 報告]         │
│  [💾 儲存至記錄]            │
│  [📤 分享報告]              │
└─────────────────────────────┘
```

---

## 🎯 測試場景

### 場景 1：正常設備檢測
- 外觀：良好
- 運轉：正常，溫度 65°C，電流 12.5A
- 潤滑：油位正常
- 結論：優良，無需維修

### 場景 2：發現異常
- 外觀：發現螺栓鬆動、輕微漏油
- 運轉：異常震動、溫度 85°C（超標）
- 潤滑：油位偏低
- 結論：需例行維護

### 場景 3：緊急維修
- 外觀：嚴重鏽蝕、裂縫
- 運轉：明顯異音
- 結論：需立即維修

---

## 📞 聯絡資訊

如有問題，請聯絡：
- 專案負責人：dofliu
- 開發團隊：doflab 劉瑞弘老師研究團隊
